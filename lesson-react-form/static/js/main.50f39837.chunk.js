(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{123:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(75),c=a.n(o),s=a(6),l=a(15),i=a(78),p=a.n(i),u=a(127),m=a(129),d=a(130),h=a(128),b=a(82),f=a(46),E=a.n(f),v="fetch_posts",y="create_post",O="fetch_post",g="delete_post",j="https://reduxblog.herokuapp.com/api",k="?key=kal";var N=a(44),_=a.n(N),w=Object(s.c)({posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return _.a.omit(e,t.payload);case v:return _.a.mapKeys(t.payload.data,"id");case O:var a=t.payload.data,n=Object(b.a)({},e);return n[a.id]=a,n;default:return e}},form:h.a}),P=a(23),S=a(24),x=a(27),C=a(25),D=a(28),F=function(){return r.a.createElement("div",{className:"py-5 text-center"},r.a.createElement("img",{className:"d-block mx-auto mb-4",src:"http://cdn.onlinewebfonts.com/svg/img_416667.png",height:"150"}),r.a.createElement("h2",null,"React Form"))},T=function(e){function t(){return Object(P.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container"},r.a.createElement(F,null),this.props.children)}}]),t}(n.Component),X=a(124),L=function(e){function t(){return Object(P.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"text-xs-right"},r.a.createElement(X.a,{to:"/posts/new",className:"btn btn-primary float-right"},"Add a post")),r.a.createElement("h3",null,"Posts"),r.a.createElement("ul",{className:"list-group"},this.renderPost()))}},{key:"renderPost",value:function(){return _.a.map(this.props.posts,function(e){return r.a.createElement("li",{className:"list-group-item",key:e.id},r.a.createElement(X.a,{to:"/posts/".concat(e.id)},e.title))})}}]),t}(n.Component);var R=Object(l.b)(function(e){return{posts:e.posts}},{fetchPosts:function(){var e=E.a.get("".concat(j,"/posts").concat(k));return{type:v,payload:e}}})(L),B=a(126),I=a(125),J=function(e){function t(){return Object(P.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(S.a)(t,[{key:"renderField",value:function(e){var t=e.meta,a=t.touched,n=t.error,o="form-group ".concat(a&&n?"has-danger":"");return r.a.createElement("div",{className:o},r.a.createElement("label",null,e.label),r.a.createElement("input",Object.assign({className:"form-control",type:"text"},e.input)),a?n:"")}},{key:"onSubmit",value:function(e){var t=this;this.props.createPost(e,function(){t.props.history.push("/")})}},{key:"render",value:function(){var e=this.props.handleSubmit;return r.a.createElement("form",{onSubmit:e(this.onSubmit.bind(this))},r.a.createElement(B.a,{label:"Title",name:"title",component:this.renderField}),r.a.createElement(B.a,{label:"Categories",name:"categories",component:this.renderField}),r.a.createElement(B.a,{label:"Post content",name:"content",component:this.renderField}),r.a.createElement("div",{class:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),r.a.createElement(X.a,{to:"/",className:"btn btn-danger"},"Cancel")))}}]),t}(n.Component);var M=Object(I.a)({validate:function(e){var t={};return e.title||(t.title="enter a title!"),e.categories||(t.categories="enter a categories!"),e.content||(t.content="enter some content please!"),t},form:"PostNewForm"})(Object(l.b)(null,{createPost:function(e,t){var a=E.a.post("".concat(j,"/posts").concat(k),e).then(function(){return t()});return{type:y,payload:a}}})(J)),U=function(e){function t(){return Object(P.a)(this,t),Object(x.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(S.a)(t,[{key:"componentDidMount",value:function(){this.props.post||this.props.fetchPost(this.props.match.params.id)}},{key:"onDeleteClick",value:function(){var e=this,t=this.props.match.params.id;this.props.deletePost(t,function(){e.props.history.push("/")})}},{key:"render",value:function(){var e=this.props.post;return e?r.a.createElement("div",null,r.a.createElement("nav",{"aria-label":"breadcrumb"},r.a.createElement("ol",{class:"breadcrumb"},r.a.createElement("li",{style:{width:"100%"}},r.a.createElement(X.a,{to:"/"},"Back to index"),r.a.createElement("button",{className:"btn btn-sm btn-danger float-right",onClick:this.onDeleteClick.bind(this)},"Delete Post")))),r.a.createElement("h3",null,e.title),r.a.createElement("h6",null,e.categories),r.a.createElement("p",null,e.content)):r.a.createElement("div",null,"Loading")}}]),t}(n.Component),V=Object(l.b)(function(e,t){return{post:e.posts[t.match.params.id]}},{fetchPost:function(e){var t=E.a.get("".concat(j,"/posts/").concat(e).concat(k));return{type:O,payload:t}},deletePost:function(e,t){return E.a.delete("".concat(j,"/posts/").concat(e).concat(k)).then(function(){t()}),{type:g,payload:e}}})(U),q=Object(s.a)(p.a)(s.d);c.a.render(r.a.createElement(l.a,{store:q(w,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())},r.a.createElement(u.a,null,r.a.createElement(T,null,r.a.createElement(m.a,null,r.a.createElement(d.a,{path:"/posts/new",component:M}),r.a.createElement(d.a,{path:"/posts/:id",component:V}),r.a.createElement(d.a,{path:"/",component:R}))))),document.querySelector("#root"))},84:function(e,t,a){e.exports=a(123)}},[[84,2,1]]]);
//# sourceMappingURL=main.50f39837.chunk.js.map